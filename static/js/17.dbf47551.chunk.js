(this.webpackJsonpintelowl=this.webpackJsonpintelowl||[]).push([[17],{559:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),s={restoreOnUnmount:!1};t.default="undefined"!==typeof document?function(e,t){void 0===t&&(t=s);var r=n.useRef(document.title);document.title!==e&&(document.title=e),n.useEffect((function(){return t&&t.restoreOnUnmount?function(){document.title=r.current}:void 0}),[])}:function(e){}},613:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return D}));var n=r(1),s=r.n(n),c=r(549),a=r(529),o=r(517),i=r(559),l=r.n(i),u=r(22),d=r(32),j=r(21),b=r(17),x=r.n(b),m=r(519),p=r(527),O=r(570),h=r(27),f=r.n(h),v=r(34);function k(){return y.apply(this,arguments)}function y(){return(y=Object(d.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post(v.d);case 3:return t=e.sent,Object(u.L)("Generated new API key for you!",null,"success",!0),e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(0),Object(u.L)("Failed!",e.t0.parsedMsg.toString(),"danger",!0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function w(){return g.apply(this,arguments)}function g(){return(g=Object(d.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.delete(v.d);case 3:return t=e.sent,Object(u.L)("API key was deleted!",null,"success",!0),e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(0),Object(u.L)("Failed!",e.t0.parsedMsg.toString(),"danger",!0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function N(e,t){return A.apply(this,arguments)}function A(){return(A=Object(d.a)(x.a.mark((function e(t,r){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.delete("".concat(v.s,"/").concat(t));case 3:return n=e.sent,Object(u.L)("Revoked Session (".concat(r,")."),null,"success",!0,6e3),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),Object(u.L)("Failed!",e.t0.parsedMsg.toString(),"danger",!0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var I=r(7);function P(){console.debug("SessionsList rendered!");var e=Object(u.Q)({url:v.s},(function(e){return e.sort((function(e,t){return!e.is_current||e.created-t.created}))})),t=Object(j.a)(e,3),r=t[0],n=t[1],c=t[2],o=s.a.useCallback(function(){var e=Object(d.a)(x.a.mark((function e(t,r){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(t,r);case 3:setTimeout(c,500),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r){return e.apply(this,arguments)}}(),[c]);return Object(I.jsx)(n,{render:function(){return Object(I.jsx)("ol",{children:r.map((function(e){var t=e.id,r=e.client,n=e.created,s=e.expiry,c=e.has_expired,i=e.is_current;return Object(I.jsx)("li",{children:Object(I.jsxs)(a.a,{className:"mb-3 d-flex flex-wrap",children:[Object(I.jsxs)(m.a,{sm:6,xl:4,children:[Object(I.jsx)("small",{className:"text-muted mr-1",children:"Device"}),"\xa0",r]}),Object(I.jsxs)(m.a,{sm:6,xl:4,children:[Object(I.jsx)("small",{className:"text-muted mr-1",children:"Created"}),Object(I.jsx)(u.t,{id:"sessionslist-".concat(t,"__created"),value:n,format:"h:mm A MMM Do, YYYY",title:"Session create date",showAgo:!0})]}),Object(I.jsxs)(m.a,{sm:6,xl:3,children:[Object(I.jsx)("small",{className:"text-muted mr-1",children:"Expires"}),Object(I.jsx)(u.t,{id:"sessionslist-".concat(t,"__expires"),value:s,title:"Session expiry date",fromNow:!0}),c&&Object(I.jsx)(p.a,{color:"danger",className:"ml-2",children:"expired"})]}),Object(I.jsx)(m.a,{sm:6,xl:1,className:"text-center",children:i?Object(I.jsx)(p.a,{color:"info",children:"current"}):Object(I.jsx)(u.p,{id:"sessionslist-".concat(t,"__revoke-btn"),title:"Revoke Session",color:"danger",outline:!0,size:"xs",Icon:O.a,onClick:function(){return o(t,r)}})})]})},"sessionslist-".concat(t))}))})}})}var _=r(526),S=r(33),C=r(64),M=r(568),Y=r.n(M);function L(){console.debug("APIAccess rendered!");var e=Object(u.Q)({url:v.d}),t=Object(j.a)(e,3),r=t[0],n=t[1],c=t[2],i=s.a.useState(!1),l=Object(j.a)(i,2),b=l[0],p=l[1],h=s.a.useCallback(Object(d.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:setTimeout(c,500);case 3:case"end":return e.stop()}}),e)}))),[c]),f=s.a.useCallback(Object(d.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y()({message:Object(I.jsxs)("div",{children:[Object(I.jsx)("p",{className:"text-warning font-italic",children:"Note: This is an irreversible operation."}),Object(I.jsx)("p",{children:"Once deleted, you cannot use this API key to access IntelOwl's API. However, you will be able to generate a new one."}),"Are you sure you wish to proceed ?"]}),confirmText:"Yes"});case 2:if(!e.sent){e.next=12;break}return e.prev=4,e.next=7,w();case 7:setTimeout(c,500),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}}),e,null,[[4,10]])}))),[c]);return Object(I.jsx)(n,{render:function(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(a.a,{noGutters:!0,className:"d-flex ",children:[Object(I.jsxs)(m.a,{sm:6,lg:3,children:[Object(I.jsx)("small",{className:"text-muted mr-1",children:"Created"}),Object(I.jsx)(u.t,{id:"apikey__created",value:null===r||void 0===r?void 0:r.created,format:"h:mm A MMM Do, YYYY",title:"Session create date",showAgo:!0})]}),Object(I.jsxs)(m.a,{sm:6,lg:3,children:[Object(I.jsx)("small",{className:"text-muted mr-1",children:"Expires"}),Object(I.jsx)(u.t,{id:"apikey__expires",value:null===r||void 0===r?void 0:r.expiry,title:"Session expiry date",fromNowDuring:!0})]})]}),Object(I.jsx)(a.a,{noGutters:!0,className:"mt-4 d-flex",children:Object(I.jsx)(m.a,{md:8,lg:5,className:"mx-auto",children:Object(I.jsxs)(u.e,{className:"bg-darker d-flex-center flex-nowrap",children:[b?Object(I.jsx)(u.f,{id:"apiaccess__token",text:null===r||void 0===r?void 0:r.token,showOnHover:!0,children:null===r||void 0===r?void 0:r.token}):Object(I.jsx)("div",{className:"blurry-text text-truncate",children:"tokentokentokentokentokentoken"}),Object(I.jsxs)(_.a,{className:"ml-auto",size:"sm",children:[Object(I.jsx)(u.p,{id:"toggle-show-apikey-btn",color:"dark",title:b?"Hide API key":"Show API Key",className:"ml-2 border border-dark",Icon:b?S.x:S.y,onClick:function(){return p((function(e){return!e}))}}),Object(I.jsx)(u.p,{id:"delete-apikey-btn",title:"Delete API key",outline:!0,color:"danger",className:"border border-dark",Icon:O.a,onClick:f})]})]})})})]})},renderError:function(e){var t,r=e.error;return 404===(null===r||void 0===r||null===(t=r.response)||void 0===t?void 0:t.status)?Object(I.jsxs)(o.a,{color:"dark",className:"col-md-6 col-lg-3 mx-auto text-center",children:[Object(I.jsx)("h5",{className:"text-warning",children:"No active API key"}),Object(I.jsx)(u.p,{id:"create-apikey-btn",color:"tertiary",title:"Click to generate new API key",titlePlacement:"bottom",size:"sm",Icon:function(){return Object(I.jsxs)("span",{children:["Generate\xa0",Object(I.jsx)(C.a,{})]})},onClick:h})]}):Object(I.jsx)(u.l,{error:r})}})}var T=r(96);function D(){return console.debug("Sessions rendered!"),l()("IntelOwl | Sessions",{restoreOnUnmount:!0}),Object(I.jsxs)(c.a,{children:[Object(I.jsx)(a.a,{className:"my-4",children:Object(I.jsx)(o.a,{color:"secondary",className:"mx-3 mx-md-auto text-center",children:Object(I.jsxs)("span",{children:["You can generate an API key to access IntelOwl's RESTful API.\xa0",Object(I.jsx)("a",{href:T.d,target:"_blank",rel:"noreferrer",className:"link-primary",children:"Learn more"}),"."]})})}),Object(I.jsx)("h6",{children:"API Access"}),Object(I.jsx)(u.e,{className:"bg-body border border-dark",children:Object(I.jsx)(L,{})}),Object(I.jsx)("h6",{children:"Browser Sessions"}),Object(I.jsx)(u.e,{className:"bg-body border border-dark",children:Object(I.jsx)(P,{})})]})}}}]);